<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zamplia URL Generator</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js">

    </script>
</head>

<body>
    <script>
        const UID = "979869521";
        const URLVal = `https://zampcompletesandbox.zamplia.com/?UID=${UID}&QVENDOR=52`;

        jQuery(document).ready(function () {
            const data = {
                url: URLVal
            };
            console.log("Sending data:", JSON.stringify(data));
            const codingRequest = new XMLHttpRequest();
            codingRequest.open("POST", 'https://zampliabackend-staging.azurewebsites.net/api/generateHmacSignedUrl', true);
            codingRequest.setRequestHeader('Authorization', '550e8400-e29b-41d4-a716-446655440000');
            codingRequest.setRequestHeader('Content-Type', 'application/json');
            codingRequest.onreadystatechange = function () {
                if (codingRequest.readyState === 4) {
                    if (codingRequest.status === 200) {
                        const response = JSON.parse(codingRequest.responseText);
                    } else {
                        console.error("Error:", codingRequest.status, codingRequest.statusText);
                    }
                }
            };
            codingRequest.send(JSON.stringify(data));
        });
    </script>
</body>

</html>